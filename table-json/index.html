<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Convert tables to JSON</title>
    <style>
        *, *:before, *:after {
            box-sizing: border-box;
        }
        html, body {
            height: 100%;
        }
        body {
            margin: 0;
            overflow: hidden;
        }

        textarea {
            width: 100%;
            height: 100%;
            resize: none;
        }
        .grid {
            display: flex;
            align-items: stretch;
            justify-content: stretch;
            height: 90%;
        }
        .col {
            flex-basis: 50%;
            max-width: 50%;
        }
        .button-wrap {
            text-align: center;
        }
        button {
            margin: 20px auto;
        }
    </style>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
</head>

<body>
    <div class="grid">
        <div class="col"><textarea name="" id="html" cols="30" rows="10"></textarea></div>
        <div class="col"><textarea name="" id="json" cols="30" rows="10"></textarea></div>
    </div>
    <div class="button-wrap"><button class="convert">Conver to JSON</button></div>
    <div style="display:none;">
        <table>
            <thead class="content-page_table-header">
                <tr class="content-page_table-row content-page_table-row--header">
                    <td class="content-page_table-column"><span>Name</span></td>
                    <td class="content-page_table-column"><span>Fees Earned<br>or Paid in Cash</span></td>
                    <td class="content-page_table-column"><span>Equity/Stock<br>Awards</span></td>
                    <td class="content-page_table-column"><span>All Other<br>Compensation</span></td>
                    <td class="content-page_table-column"><span>Total</span></td>
                </tr>
            </thead>
            <tbody class="content-page_table-body content-page_table-body--default-highlights">
                <tr class="content-page_table-row">
                    <td class="content-page_table-column">Darrell Heaps</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                </tr>
                <tr class="content-page_table-row alternate">
                    <td class="content-page_table-column">Ryan Levenberg</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                </tr>
                <tr class="content-page_table-row">
                    <td class="content-page_table-column">Adam Frederick</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                </tr>
                <tr class="content-page_table-row alternate">
                    <td class="content-page_table-column">Matt Twydell</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                </tr>
                <tr class="content-page_table-row">
                    <td class="content-page_table-column">Dorothy Arturi</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                </tr>
                <tr class="content-page_table-row">
                    <td class="content-page_table-column">Mark Wicks</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                </tr>
                <tr class="content-page_table-row">
                    <td class="content-page_table-column">Taryn Shulman</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                </tr>
                <tr class="content-page_table-row">
                    <td class="content-page_table-column">Alexandru Corotchi</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                </tr>
                <tr class="content-page_table-row">
                    <td class="content-page_table-column">Amit Sangvhi</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                    <td class="content-page_table-column">$123,456</td>
                </tr>
            </tbody>
        </table>
    </div>
    <script type="text/javascript">
    $('#html').val(
        '<table class="test test2">'+
            '<thead class="content-page_table-header">'+
                '<tr class="content-page_table-row content-page_table-row--header test-row1">'+
                    '<th class="content-page_table-column"><span>Name</span></th>'+
                    '<th class="content-page_table-column"><span>Fees Earned<br>or Paid in Cash</span></th>'+
                    '<th class="content-page_table-column"><span>Equity/Stock<br>Awards</span></th>'+
                    '<th class="content-page_table-column"><span>All Other<br>Compensation</span></th>'+
                    '<th class="content-page_table-column"><span>Total</span></th>'+
                '</tr>'+
                '<tr class="content-page_table-row content-page_table-row--header test-row2">'+
                    '<th class="content-page_table-column"><span>2Name</span></th>'+
                    '<th class="content-page_table-column"><span>2Fees Earned<br>or Paid in Cash</span></th>'+
                    '<th class="content-page_table-column"><span>2Equity/Stock<br>Awards</span></th>'+
                    '<th class="content-page_table-column"><span>2All Other<br>Compensation</span></th>'+
                    '<th class="content-page_table-column"><span>2Total</span></th>'+
                '</tr>'+
            '</thead>'+
            '<tbody class="content-page_table-body content-page_table-body--default-highlights">'+
                '<tr class="content-page_table-row">'+
                    '<td class="content-page_table-column">Darrell Heaps</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                '</tr>'+
                '<tr class="content-page_table-row alternate">'+
                    '<td class="content-page_table-column">Ryan Levenberg</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                '</tr>'+
                '<tr class="content-page_table-row">'+
                    '<td class="content-page_table-column">Adam Frederick</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                '</tr>'+
                '<tr class="content-page_table-row alternate">'+
                    '<td class="content-page_table-column">Matt Twydell</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                '</tr>'+
                '<tr class="content-page_table-row">'+
                    '<td class="content-page_table-column">Dorothy Arturi</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                '</tr>'+
                '<tr class="content-page_table-row">'+
                    '<td class="content-page_table-column">Mark Wicks</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                '</tr>'+
                '<tr class="content-page_table-row">'+
                    '<td class="content-page_table-column">Taryn Shulman</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                '</tr>'+
                '<tr class="content-page_table-row">'+
                    '<td class="content-page_table-column">Alexandru Corotchi</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                '</tr>'+
                '<tr class="content-page_table-row">'+
                    '<td class="content-page_table-column">Amit Sangvhi</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                    '<td class="content-page_table-column">$123,456</td>'+
                '</tr>'+
            '</tbody>'+
        '</table>'
    );
    var $table = {
        "type": "table",
        "table": {}
    };
    $('button').on('click', function(e) {
        e.preventDefault();
        var $html = $.parseHTML($('#html').val().replace(/>\s+</g, "><")),
            $thead = $html[0].childNodes[0],
            $tbody = $html[0].childNodes[1];

        // set table class
        $table.table["className"] = $($html)[0].className;
        // set empty headers
        $table.table["headers"] = {
            "className": $($thead)[0].className.replace('content-page_table-header','').trim(),
            "rows": [],
            "css": {}
        };
        // set empty tbody
        $table.table["body"] = {
            "className": $($tbody)[0].className.replace('content-page_table-body content-page_table-body--default-highlights','').trim(),
            "rows": [],
            "css": {}
        };

        // populate table headers with rows and cells
        $($thead).each(function(i, item){
            $(item).find('tr').each(function(j, row){
                var rowObj = {
                    "className": $(row)[0].className.replace('content-page_table-row content-page_table-row--header','').trim(),
                    "data": [],
                    "css": {}
                };
                $(row).find('th').each(function(k, cell){
                    // console.log($(cell)[0].innerHTML);
                    rowObj["data"].push({
                        "text": $(cell)[0].innerHTML,
                        "className": $(cell)[0].className.replace('content-page_table-column','').trim(),
                        "css": {}
                    });
                });
                $table.table["headers"]["rows"].push(rowObj);
            });
        });

        // populate table body with rows and cells
        $($tbody).each(function(i, item){
            $(item).find('tr').each(function(j, row){
                var rowObj = {
                    "className": $(row)[0].className.replace('content-page_table-row','').replace('alternate','').trim(),
                    "data": [],
                    "css": {}
                };
                $(row).find('td').each(function(k, cell){
                    // console.log($(cell)[0].innerHTML);
                    rowObj["data"].push({
                        "text": $(cell)[0].innerHTML,
                        "className": $(cell)[0].className.replace('content-page_table-column','').trim(),
                        "css": {}
                    });
                });
                $table.table["body"]["rows"].push(rowObj);
            });
        });
        $('#json').val(JSON.stringify($table, null, 4));
    });
    </script>
</body>

</html>